<!-- UCHU ADDON - COMMON HEADER -->
<header class="uchu-header">
    <nav class="uchu-nav">
        <a href="/UchuAddonWiki/">
            <img src="/UchuAddonWiki/resource/UchuAddonTitleLogo.png" alt="UchuAddon Logo" class="uchu-logo">
        </a>
        
        <button class="uchu-menu-toggle" id="menuToggle" aria-label="メニュー">
            <i class="fas fa-bars"></i>
        </button>
        
        <ul class="uchu-nav-links" id="navLinks">
            <li><a href="/UchuAddonWiki/" class="uchu-nav-link">トップ</a></li>
            <li><a href="/UchuAddonWiki/roles/" class="uchu-nav-link">役職</a></li>
            <li><a href="/UchuAddonWiki/gallery/" class="uchu-nav-link">ギャラリー</a></li>
        </ul>
    </nav>
</header>

<script>
// Mobile menu toggle
document.getElementById('menuToggle')?.addEventListener('click', function() {
    const navLinks = document.getElementById('navLinks');
    navLinks.classList.toggle('active');
    this.querySelector('i').classList.toggle('fa-bars');
    this.querySelector('i').classList.toggle('fa-times');
});

// Set active nav link
const currentPath = window.location.pathname;
document.querySelectorAll('.uchu-nav-link').forEach(link => {
    const href = link.getAttribute('href');
    if ((currentPath === '/UchuAddonWiki/' || currentPath === '/UchuAddonWiki/index.html') && href === '/UchuAddonWiki/') {
        link.classList.add('active');
    } else if (currentPath.includes('/roles/') && href.includes('/roles/')) {
        link.classList.add('active');
    } else if (currentPath.includes('/gallery/') && href.includes('/gallery/')) {
        link.classList.add('active');
    }
});

// Close mobile menu on link click
document.querySelectorAll('.uchu-nav-links a').forEach(link => {
    link.addEventListener('click', () => {
        if (window.innerWidth <= 768) {
            document.getElementById('navLinks').classList.remove('active');
            document.getElementById('menuToggle').querySelector('i').classList.add('fa-bars');
            document.getElementById('menuToggle').querySelector('i').classList.remove('fa-times');
        }
    });
});
</script>